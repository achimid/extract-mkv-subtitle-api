const subtitle = require('./src/extract/subtitle')

const json = "{\n    \"pathNew\": \"\/tmp\/\",\n    \"extraction\": {\n        \"_id\": \"5e9602c73f18b93891236169\",\n        \"magnetLink\": \"magnet:?xt=urn:btih:JWIGH43O3XVWPQLKSORMDASYM4EAD462&tr=http:\/\/nyaa.tracker.wf:7777\/announce&tr=udp:\/\/tracker.coppersurfer.tk:6969\/announce&tr=udp:\/\/tracker.internetwarriors.net:1337\/announce&tr=udp:\/\/tracker.leechersparadise.org:6969\/announce&tr=udp:\/\/tracker.opentrackr.org:1337\/announce&tr=udp:\/\/open.stealth.si:80\/announce&tr=udp:\/\/p4p.arenabg.com:1337\/announce&tr=udp:\/\/mgtracker.org:6969\/announce&tr=udp:\/\/tracker.tiny-vps.com:6969\/announce&tr=udp:\/\/peerfect.org:6969\/announce&tr=http:\/\/share.camoe.cn:8080\/announce&tr=http:\/\/t.nyaatracker.com:80\/announce&tr=https:\/\/open.kickasstracker.com:443\/announce\",\n        \"langTo\": \"pt|es\",\n        \"subtitles\": [\n            {\n                \"_id\": \"5e9603913f18b9389123616a\",\n                \"fileName\": \"[HorribleSubs] Houkago Teibou Nisshi - 02 [360p].2.srt\",\n                \"filePath\": \"\/tmp\/webtorrent\/4d9063f36eddeb67c16a93a2c18258670801f3da\/[HorribleSubs] Houkago Teibou Nisshi - 02 [360p].2.srt\",\n                \"infoHash\": \"4d9063f36eddeb67c16a93a2c18258670801f3da\",\n                \"magnetURI\": \"magnet:?xt=urn:btih:4d9063f36eddeb67c16a93a2c18258670801f3da&dn=%5BHorribleSubs%5D+Houkago+Teibou+Nisshi+-+02+%5B360p%5D.mkv&tr=http%3A%2F%2Fnyaa.tracker.wf%3A7777%2Fannounce&tr=http%3A%2F%2Fshare.camoe.cn%3A8080%2Fannounce&tr=http%3A%2F%2Ft.nyaatracker.com%3A80%2Fannounce&tr=https%3A%2F%2Fopen.kickasstracker.com%3A443%2Fannounce&tr=udp%3A%2F%2Fmgtracker.org%3A6969%2Fannounce&tr=udp%3A%2F%2Fopen.stealth.si%3A80%2Fannounce&tr=udp%3A%2F%2Fp4p.arenabg.com%3A1337%2Fannounce&tr=udp%3A%2F%2Fpeerfect.org%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.coppersurfer.tk%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.internetwarriors.net%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.leechersparadise.org%3A6969%2Fannounce&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.tiny-vps.com%3A6969%2Fannounce\",\n                \"fileContent\": \"[Script Info]\\\\nTitle: HorribleSubs\\\\nScriptType: v4.00+\\\\nCollisions: Normal\\\\nPlayDepth: 0\\\\nWrapStyle: 0\\\\nPlayResX: 848\\\\nPlayResY: 480\\\\nScaledBorderAndShadow: yes\\\\n\\\\n[V4+ Styles]\\\\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\\\\nStyle: Default,Open Sans Semibold,36,&H00FFFFFF,&H000000FF,&H00020713,&H00000000,-1,0,0,0,100,100,0,0,1,2.0,0,2,0,0,28,1\\\\n\\\\n[Events]\\\\nFormat: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text\\\\n\\\\nDialogue: 0,0:00:15.33,0:00:17.62,Default,,0,0,0,,I'm pooped...\\\\nDialogue: 0,0:22:09.66,0:22:11.33,Default,,0,0,0,,remember to look behind\\\\nDialogue: 0,0:22:11.33,0:22:12.79,Default,,0,0,0,,when casting a line.\\\\nDialogue: 0,0:22:12.79,0:22:14.25,Default,,0,0,0,,By Makoto.\\\"\\\\n\"\n            }\n        ],\n        \"createdAt\": \"2020-04-14T18:36:55.378Z\",\n        \"updatedAt\": \"2020-04-14T18:36:55.378Z\"\n    },\n    \"startTime\": 1586889416845,\n    \"file\": \"\/tmp\/webtorrent\/4d9063f36eddeb67c16a93a2c18258670801f3da\/[HorribleSubs] Houkago Teibou Nisshi - 02 [360p].mkv\"\n}"

console.log(JSON.parse(json))

const ret = subtitle.translateSubtitle(JSON.parse(json)).then(console.log)
console.log(ret)